---
sidebar: sidebar 
permalink: insights_shared_resources_under_stress.html 
keywords: insight, greedy, degraded, impacted, impacting, impactful, impact, resources, consuming, workload 
summary: Insights を使用すると、リソースがテナント上の他のリソースにどのように影響するかを確認できます。 
---
= 洞察：ストレス下における共有リソース
:hardbreaks:
:allow-uri-read: 


[role="lead"]
影響の大きいワークロードは、共有リソース内の他のワークロードのパフォーマンスを低下させる可能性があります。これにより、共有リソースにストレスがかかります。  Data Infrastructure Insights は、リソースの飽和状態とテナントへの影響を調査するのに役立つツールを提供します。



== 用語

ワークロードまたはリソースの影響について話すときは、次の定義が役立ちます。

*要求の厳しいワークロード* とは、共有ストレージ プール内の他のリソースに現在影響を与えていると特定されているワークロードです。これらのワークロードは、たとえば IOPS を高め、影響を受けるワークロードの IOPS を低下させます。要求の厳しいワークロードは、_高消費ワークロード_と呼ばれることもあります。

*影響を受けるワークロード* とは、共有ストレージ プール内の消費量の多いワークロードの影響を受けるワークロードです。これらのワークロードでは、要求の厳しいワークロードが原因で、IOPS が低下したり、レイテンシが長くなったりしています。

Data Infrastructure Insights が主要なコンピューティング ワークロードを検出しなかった場合、ボリュームまたは内部ボリューム自体がワークロードとして認識されることに注意してください。これは、要求の厳しいワークロードと影響を受けるワークロードの両方に適用されます。

*共有リソースの飽和度* は、影響を与える IOPS と _ベースライン_ の比率です。

*ベースライン* は、検出された飽和の直前の 1 時間における各ワークロードの最大報告データ ポイントとして定義されます。

IOPS が共有ストレージ プール内の他のリソースまたはワークロードに影響を与えていると判断された場合、*競合* または *飽和* が発生します。



== 要求の厳しいワークロード

共有リソース内の要求が厳しく、影響を受けているワークロードを調べるには、*ダッシュボード > インサイト* をクリックし、*ストレスがかかっている共有リソース* インサイトを選択します。

image:InsightsMenu.png["インサイトメニュー"]

Data Infrastructure Insights には、飽和が検出されたワークロードのリストが表示されます。  Data Infrastructure Insightsでは、少なくとも 1 つの _要求の厳しいリソース_ *または* _影響を受けたリソース_ が検出されたワークロードが表示されることに注意してください。

ワークロードをクリックすると、その詳細ページが表示されます。上のグラフには、競合/飽和が発生している共有リソース (ストレージ プールなど) のアクティビティが表示されます。

image:ResourceInsightShared.png["競合を示す共有リソース"]

その下には、要求の厳しいワークロードと、それらの要求の厳しいワークロードによって影響を受けるワークロードを示す 2 つのグラフがあります。

image:ResourceInsightDemanding.png["厳しい作業負荷チャート"] image:ResourceInsightImpacted-a.png["影響を受けるワークロードチャート"]

各テーブルの下には、競合に影響を与えている、または競合の影響を受けるワークロードやリソースのリストがあります。リソース (VM など) をクリックすると、そのリソースの詳細ページが開きます。ワークロードをクリックすると、関連するポッドを表示するクエリ ページが開きます。リンクによって空のクエリが開かれる場合は、影響を受けるポッドがアクティブな競合の一部ではなくなったことが原因である可能性があることに注意してください。クエリの時間範囲を変更して、より広い範囲またはより限定された範囲でポッド リストを表示できます。



== 飽和を解決するにはどうすればいいですか?

テナントの飽和の可能性を減らす、または排除するために実行できる手順はいくつかあります。これらは、ページ上の *+ 推奨事項を表示* リンクを展開すると表示されます。試すことができるいくつかの方法を以下に示します。

* 高IOPSの消費者を移動
+
「貪欲な」ワークロードを、飽和度の低いストレージ プールに移動します。不要なコストや追加の競合を避けるために、ワークロードを移動する前にこれらのプールの層と容量を評価することをお勧めします。

* サービス品質（QoS）ポリシーを実装する
+
十分な空きリソースを確保するためにワークロードごとに QoS ポリシーを実装すると、ストレージ プールの飽和状態が緩和されます。これは長期的な解決策です。

* 追加のリソースを追加する
+
共有リソース (たとえば、ストレージ プール) が IOPS 飽和点に達した場合は、プールにディスクを追加したり、より高速なディスクを追加することで、飽和を緩和するのに十分な空きリソースを確保できます。



最後に、「*インサイト リンクをコピー*」をクリックしてページの URL をクリップボードにコピーし、同僚と簡単に共有できるようになります。
