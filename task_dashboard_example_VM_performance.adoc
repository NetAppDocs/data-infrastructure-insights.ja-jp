---
sidebar: sidebar 
permalink: task_dashboard_example_VM_performance.html 
summary: 仮想マシンのパフォーマンスを強調表示するダッシュボードの例。 
keywords: dashboard, widget, custom, example, virtual machine, vm, performance 
---
= ダッシュボードの例: 仮想マシンのパフォーマンス
:hardbreaks:
:allow-uri-read: 


[role="lead"]
今日の IT 運用には多くの課題が存在します。管理者は少ないリソースでより多くの成果を出すことが求められており、動的なデータセンターを完全に可視化することが必須となっています。この例では、テナント上の仮想マシン (VM) のパフォーマンスに関する運用上の洞察を提供するウィジェットを含むダッシュボードを作成する方法を説明します。この例に従い、独自の特定のニーズをターゲットにしたウィジェットを作成することで、バックエンドのストレージ パフォーマンスをフロントエンドの仮想マシンのパフォーマンスと比較して視覚化したり、VM のレイテンシと I/O 需要を比較表示したりといったことが可能になります。

.タスク概要
ここでは、次の内容を含む仮想マシン パフォーマンス ダッシュボードを作成します。

* VM名とパフォーマンスデータをリストしたテーブル
* VMレイテンシとストレージレイテンシを比較したグラフ
* VMの読み取り、書き込み、合計IOPSを示すグラフ
* VMの最大スループットを示すグラフ


これは単なる基本的な例です。ダッシュボードをカスタマイズして、選択したパフォーマンス データを強調表示して比較し、独自の運用のベスト プラクティスをターゲットにすることができます。

.手順
. 管理者権限を持つユーザーとして Insight にログインします。
. *ダッシュボード* メニューから、*[+新しいダッシュボード]* を選択します。
+
*新しいダッシュボード* ページが開きます。

. ページの上部に、ダッシュボードの一意の名前を入力します (例: 「アプリケーション別の VM パフォーマンス」)。
. *[保存]* をクリックして、ダッシュボードを新しい名前で保存します。
. ウィジェットの追加を始めましょう。必要に応じて、[*編集*]アイコンをクリックして編集モードを有効にします。
. *ウィジェットの追加*アイコンをクリックし、*テーブル*を選択して、ダッシュボードに新しいテーブルウィジェットを追加します。
+
ウィジェット編集ダイアログが開きます。表示されるデフォルトのデータは、テナント上のすべてのストレージに関するものです。



image:VMDashboard-TableWidget1.png["テーブルウィジェット編集ダイアログ"]

. このウィジェットはカスタマイズできます。上部の名前フィールドで、「Widget 1」を削除し、「Virtual Machine Performance table」と入力します。
. 資産タイプのドロップダウンをクリックし、_Storage_ を _Virtual Machine_ に変更します。
+
テーブル データが変更され、テナント上のすべての仮想マシンが表示されます。

. テーブルにいくつかの列を追加してみましょう。右側の歯車アイコンをクリックし、_ハイパーバイザー名_、_IOPS - 合計_、_レイテンシ - 合計_を選択します。検索に名前を入力して、目的のフィールドをすばやく表示することもできます。
+
これらの列がテーブルに表示されるようになりました。これらの列のいずれかでテーブルを並べ替えることができます。列はウィジェットに追加された順序で表示されることに注意してください。

. この演習では、アクティブに使用されていない VM を除外するため、合計 IOPS が 10 未満のものをフィルター処理しましょう。  *フィルター条件*の横にある*[+]*ボタンをクリックし、_IOPS - 合計_を選択します。  *任意*をクリックし、*開始*フィールドに「10」と入力します。 *宛先*フィールドは空のままにしておきます。フィルターを設定するには、フィルター フィールドの外側をクリックするか、Enter キーを押してください。
+
テーブルには、合計 IOPS が 10 以上の VM のみが表示されるようになりました。

. 結果をグループ化することで、テーブルをさらに折りたたむことができます。 *グループ化*の横にある*[+]*ボタンをクリックし、_アプリケーション_や_ハイパーバイザー名_などのグループ化するフィールドを選択します。グループ化は自動的に適用されます。
+
これで、テーブル行が設定に従ってグループ化されました。必要に応じてグループを展開したり折りたたんだりできます。グループ化された行には、各列の集計データが表示されます。一部の列では、その列のロールアップ方法を選択できます。



image:VMDashboard-TableWidgetGroup.png["テーブルウィジェットのグループ化の例"]

. テーブル ウィジェットを満足のいくようにカスタマイズしたら、[*[保存]*] ボタンをクリックします。
+
テーブル ウィジェットはダッシュボードに保存されます。



ダッシュボード上のウィジェットの右下隅をドラッグしてサイズを変更できます。すべての列を明確に表示するには、ウィジェットの幅を広げます。現在のダッシュボードを保存するには、[*保存*] をクリックします。

次に、VM のパフォーマンスを表示するグラフをいくつか追加します。  VM レイテンシと VMDK レイテンシを比較する折れ線グラフを作成しましょう。

. 必要に応じて、ダッシュボードの*編集*アイコンをクリックして編集モードを有効にします。
. *[ウィジェットを追加]* アイコンをクリックし、_折れ線グラフ_ を選択して、ダッシュボードに新しい折れ線グラフ ウィジェットを追加します。
. *ウィジェットの編集*ダイアログが開きます。このウィジェットに「VM / VMDK 最大レイテンシ」という名前を付けます
. *仮想マシン*を選択し、_Latency - Max_を選択します。必要なフィルターを設定するか、[フィルター条件] を空のままにしておきます。 *ロールアップ*の場合は、[すべて合計] を選択します。このデータを _折れ線グラフ_ として表示し、_Y 軸_ を _プライマリ_ のままにします。
. 2 番目のデータ ラインを追加するには、[*+ クエリ]* ボタンをクリックします。この行では、_VMDK_ と _Latency - Max_ を選択します。必要なフィルターを設定するか、[フィルター条件] を空のままにしておきます。 *ロールアップ*の場合は、[すべて合計] を選択します。このデータを _折れ線グラフ_ として表示し、_Y 軸_ を _プライマリ_ のままにします。
. このウィジェットをダッシュボードに追加するには、[*保存*] をクリックします。


image:VMDashboard-LineChartVMLatency.png["レイテンシデータを示す折れ線グラフ"]

次に、VM の読み取り、書き込み、および合計 IOPS を 1 つのグラフで表示するグラフを追加します。

. *[ウィジェットを追加]* アイコンをクリックし、_エリア チャート_ を選択して、ダッシュボードに新しいエリア チャート ウィジェットを追加します。
. ウィジェット編集ダイアログが開きます。このウィジェットに「VM IOPS」という名前を付けます
. *仮想マシン*を選択し、_IOPS - 合計_を選択します。必要なフィルターを設定するか、[フィルター条件] を空のままにします。[ロールアップ] の場合は、[すべて] で [合計] を選択します。このデータを_面グラフ_として表示し、_Y 軸_を_プライマリ_のままにします。
. 2 番目のデータ ラインを追加するには、[*+ クエリ]* ボタンをクリックします。この行では、*仮想マシン*を選択し、_IOPS - 読み取り_を選択します。
. 3 番目のデータ行を追加するには、[+クエリ]* ボタンをクリックします。この行では、*仮想マシン*を選択し、_IOPS - 書き込み_を選択します。
. ダッシュボードにこのウィジェットの凡例を表示するには、[*凡例を表示*] をクリックします。


image:VMDashboard-AreaChartVMIOPS.png["VM IOPS を示す面グラフ"]

. このウィジェットをダッシュボードに追加するには、[*保存*] をクリックします。


次に、VM に関連付けられている各アプリケーションの VM スループットを示すグラフを追加します。これにはロールアップ機能を使用します。

. *[ウィジェットを追加]* アイコンをクリックし、_折れ線グラフ_ を選択して、ダッシュボードに新しい折れ線グラフ ウィジェットを追加します。
. ウィジェット編集ダイアログが開きます。このウィジェットに「アプリケーション別のVMスループット」という名前を付けます。
. 仮想マシンを選択し、スループット - 合計を選択します。必要なフィルターを設定するか、「フィルター条件」を空のままにします。ロールアップの場合は、「最大」を選択し、「アプリケーション」または「名前」で選択します。上位 10 件のアプリケーションを表示します。このデータを折れ線グラフとして表示し、Y 軸をプライマリのままにします。
. このウィジェットをダッシュボードに追加するには、[*保存*] をクリックします。


ダッシュボード上のウィジェットを移動するには、ウィジェットの上部の任意の場所でマウス ボタンを押したまま、新しい場所にドラッグします。

右下隅をドラッグしてウィジェットのサイズを変更できます。

変更を加えた後は、必ずダッシュボードを*[保存]*してください。

最終的な VM パフォーマンス ダッシュボードは次のようになります。

image:VMDashExample1.png["VMダッシュボードの完全な例。すべてのウィジェットが配置されています。"]
