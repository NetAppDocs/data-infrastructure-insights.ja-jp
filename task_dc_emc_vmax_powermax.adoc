---
sidebar: sidebar 
permalink: task_dc_emc_vmax_powermax.html 
keywords: data collector, EMC, DELL, vmax, powermax 
summary: Dell EMC VMAX および PowerMax デバイス ファミリのデータ コレクターを構成します。 
---
= Dell EMC VMAXおよびPowerMaxデバイスファミリーのデータコレクター
:hardbreaks:
:allow-uri-read: 


[role="lead"]
Data Infrastructure Insights は、環境内の既存の Solutions Enabler サーバーと組み合わせて Solutions Enabler symcli コマンドを使用することで、EMC VMAX および PowerMax ストレージ アレイを検出します。既存の Solutions Enabler サーバーは、ゲートキーパー ボリュームへのアクセスを通じて VMAX/PowerMax ストレージ アレイに接続できます。



== 要件

このデータ コレクターを構成する前に、 Data Infrastructure Insights が既存の Solutions Enabler サーバー上のポート 2707 に TCP 接続できることを確認する必要があります。  Data Infrastructure Insights は、そのサーバーからの「symcfg list」出力に表示される、このサーバーに「ローカル」であるすべての Symmetrix アレイを検出します。

* SMI-S プロバイダー アプリケーションを備えた EMC Solutions Enabler (CLI) は、Acquisition Unit サーバーにインストールする必要があり、そのバージョンは Solutions Enabler サーバーで実行されているバージョンと一致するか、それより前である必要があります。
* 適切に構成された {installdir}\EMC\SYMAPI\config\netcnfg ファイルが必要です。このファイルは、Solutions Enabler サーバーのサービス名とアクセス方法 (SECURE / NOSECURE /ANY) を定義します。
* ストレージ ノード レベルで読み取り/書き込みの遅延が必要な場合、SMI-S プロバイダーは、UNISPHERE for VMAX アプリケーションの実行中のインスタンスと通信する必要があります。
* 管理ソリューション イネーブラ サーバーの IP アドレス
* Solutions Enabler (SE) サーバーの管理者権限
* SEソフトウェアへの読み取り専用ユーザー名とパスワード
* UNISPHERE for VMAXアプリケーションが実行され、SMI-Sプロバイダーのインストールによって管理されるEMC VMAXおよびPowerMaxストレージアレイの統計情報を収集する必要があります。
* パフォーマンスのアクセス検証: 取得ユニットの Web ブラウザーで、_\https://<SMI-S ホスト名または IP>:5989/ecomconfig_ にアクセスします。ここで、「SMI-S ホスト名または IP」は SMI-S サーバーの IP アドレスまたはホスト名です。この URL は、EMC SMI-S (別名「ECOM」) サービスの管理ポータル用です。ログイン ポップアップが表示されます。
* 権限は、Solutions Enabler サーバーのデーモン構成ファイルで宣言する必要があります。このファイルは通常、次の場所にあります: _/var/symapi/config/daemon_users_
+
適切な cisys 権限を持つファイルの例を次に示します。

+
....
root@cernciaukc101:/root
14:11:25 # tail /var/symapi/config/daemon_users
###
###     Refer to the storrdfd(3) man page for additional details.
###
###     As noted above, only authorized users can perform stordaemon control
###     operations (e.g., shutdown).
################################################################################
# smith         storrdfd
cisys storapid <all>
....




== 用語

Data Infrastructure Insights は、 EMC VMAX/PowerMax データ ソースから次のインベントリ情報を取得します。取得した資産の種類ごとに、その資産に使用される最も一般的な用語が表示されます。このデータ コレクターを表示またはトラブルシューティングするときは、次の用語に留意してください。

[cols="2*"]
|===
| ベンダー/モデル用語 | Data Infrastructure Insights用語 


| ディスク | ディスク 


| ディスクグループ | ディスクグループ 


| ストレージ | アレイストレージ 


| 監督 | ストレージ ノード 


| デバイス プール、ストレージ リソース プール (SRP) | ストレージ プール 


| デバイスTDev | Volume 
|===
注: これらは一般的な用語のマッピングのみであり、このデータ コレクターのすべてのケースを反映しているわけではありません。



== 構成

*注:* SMI-S ユーザー認証が有効になっていない場合、 Data Infrastructure Insightsデータ コレクターのデフォルト値は無視されます。

[cols="2*"]
|===
| フィールド | 説明 


| サービス名 | _netcnfg_ ファイルに指定されたサービス名 


| CLIへのフルパス | Symmetrix CLI を含むフォルダへのフルパス 


| SMI-SホストIPアドレス | SMI-SホストのIPアドレス 
|===


== 詳細設定

[cols="2*"]
|===
| フィールド | 説明 


| インベントリポーリング間隔（分） | インベントリ ポーリングの間隔。デフォルトは40分です。 


| リストを指定するには「除外」または「含める」を選択します | データを収集するときに、以下の配列リストを含めるか除外するかを指定します。 


| インベントリフィルターデバイスリスト | 含めるまたは除外するデバイス ID のコンマ区切りリスト 


| 接続キャッシュ | 接続キャッシュ方法を選択します: * LOCAL は、 Cloud Insights Acquisition サービスが Solutions Enabler サーバー上で実行されており、検出対象の Symmetrix アレイへのファイバー チャネル接続があり、ゲートキーパー ボリュームにアクセスできることを意味します。これは、一部のリモート取得ユニット (RAU) 構成で発生する可能性があります。 * REMOTE_CACHED はデフォルトであり、ほとんどの場合に使用する必要があります。これには、NETCNFG ファイル設定を使用して、IP を使用して Solutions Enabler サーバーに接続します。このサーバーは、検出対象の Symmetrix アレイへのファイバ チャネル接続を持ち、Gatekeeper ボリュームにアクセスできる必要があります。 * REMOTE_CACHED オプションにより CLI コマンドが失敗する場合は、REMOTE オプションを使用します。取得プロセスが遅くなることに注意してください (極端な場合には数時間または数日かかる可能性があります)。  NETCNFG ファイル設定は、検出対象の Symmetrix アレイへのファイバー チャネル接続を持つ Solutions Enabler サーバーへの IP 接続に引き続き使用されます。  *注:* この設定では、「symcfg list」出力で REMOTE としてリストされているアレイに関するData Infrastructure Insights の動作は変更されません。  Data Infrastructure Insights は、このコマンドによって LOCAL として表示されるデバイス上でのみデータを収集します。 


| SMI-Sプロトコル | SMI-S プロバイダーに接続するために使用されるプロトコル。使用されるデフォルトのポートも表示します。 


| SMISポートの上書き | 空白の場合は、接続タイプフィールドのデフォルトのポートを使用します。それ以外の場合は、使用する接続ポートを入力します。 


| SMI-Sユーザー名 | SMI-Sプロバイダーホストのユーザー名 


| SMI-Sパスワード | SMI-Sプロバイダーホストのユーザー名 


| パフォーマンスポーリング間隔（秒） | パフォーマンスポーリングの間隔（デフォルトは1000秒） 


| リストを指定するには「除外」または「含める」を選択します | パフォーマンスデータを収集するときに、以下のアレイリストを含めるか除外するかを指定します 


| パフォーマンスフィルターデバイスリスト | 含めるまたは除外するデバイス ID のコンマ区切りリスト 
|===


== トラブルシューティング

このデータ コレクターで問題が発生した場合に試すことができるいくつかのこと:

[cols="2*"]
|===
| 問題： | これを試してください: 


| エラー: 要求された機能は現在ライセンスされていません | SYMAPI サーバー ライセンスをインストールします。 


| エラー: デバイスが見つかりません | Symmetrix デバイスが Solutions Enabler サーバーによって管理されるように構成されていることを確認します。 - 構成されている Symmetrix デバイスのリストを表示するには、symcfg list -v を実行します。 


| エラー: 要求されたネットワーク サービスがサービス ファイルに見つかりません | Solutions Enabler の netcnfg ファイルで Solutions Enabler サービス名が定義されていることを確認します。このファイルは通常、Solutions Enabler クライアント インストールの SYMAPI\config\ にあります。 


| エラー: リモートクライアント/サーバーハンドシェイクに失敗しました | 検出しようとしている Solutions Enabler ホスト上の最新の storsrvd.log* ファイルを確認します。 


| エラー: クライアント証明書の共通名が無効です | Solutions Enabler サーバー上の _hosts_ ファイルを編集して、Acquisition Unit のホスト名が Solutions Enabler サーバー上の storsrvd.log に報告されている IP アドレスに解決されるようにします。 


| エラー: 関数はメモリを取得できませんでした | Solutions Enablerを実行するためにシステムに十分な空きメモリがあることを確認してください。 


| エラー: Solutions Enabler は必要なすべてのデータを提供できませんでした。 | Solutions Enablerの健全性状態と負荷プロファイルを調査する 


| エラー: • Solutions Enabler サーバー 8.x から Solutions Enabler 7.x を使用して収集した場合、「symcfg list -tdev」CLI コマンドは誤ったデータを返す場合があります。  • Solutions Enabler 8.3 以降から Solutions Enabler 8.1.0 以前を使用して収集された場合、「symcfg list -srp」 CLI コマンドは誤ったデータを返すことがあります。 | 同じSolutions Enablerメジャーリリースを使用していることを確認してください 


| 「不明なコード」というメッセージとともにデータ収集エラーが表示されます | Solutions Enablerサーバーのデーモン構成ファイルで権限が宣言されていない場合、このメッセージが表示されることがあります（<<要件,要件>>その上。）これは、SE クライアントのバージョンが SE サーバーのバージョンと一致していることを前提としています。このエラーは、_cisys_ ユーザー (Solutions Enabler コマンドを実行する) に /var/symapi/config/daemon_users 構成ファイルで必要なデーモン権限が設定されていない場合にも発生する可能性があります。これを修正するには、/var/symapi/config/daemon_users ファイルを編集し、cisys ユーザーに storapid デーモンに対して指定された <all> 権限があることを確認します。例: 14:11:25 # tail /var/symapi/config/daemon_users ... cisys storapid <all> 
|===
追加情報は以下からご覧いただけます。link:concept_requesting_support.html["サポート"]ページまたはlink:reference_data_collector_support_matrix.html["データコレクターサポートマトリックス"]。
