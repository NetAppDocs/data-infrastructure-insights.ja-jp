---
sidebar: sidebar 
permalink: task_dc_hds_commandsuite.html 
keywords: data collector, Hitachi Vantara Command Suite, Hitachi 
summary: HDS Command Suite Device Manager データ コレクターを構成します。 
---
= 日立ヴァンタラコマンドスイートデータコレクター
:hardbreaks:
:allow-uri-read: 


[role="lead"]
Hitachi Vantara Command Suite データ コレクターは、HiCommand Device Manager サーバーをサポートします。  Data Infrastructure Insights は、標準の HiCommand API を使用して HiCommand Device Manager サーバーと通信します。



== 用語

Data Infrastructure Insights は、 Hitachi Vantara Command Suite データ コレクターから次のインベントリ情報を取得します。 Data Infrastructure Insightsによって取得された資産タイプごとに、その資産に使用される最も一般的な用語が表示されます。このデータ コレクターを表示またはトラブルシューティングするときは、次の用語に留意してください。

[cols="2*"]
|===
| ベンダー/モデル用語 | Data Infrastructure Insights用語 


| PDEV | ディスク 


| ジャーナルプール | ディスクグループ 


| ストレージ アレイ | ストレージ 


| ポートコントローラー | ストレージ ノード 


| アレイグループ、HDSプール | ストレージ プール 


| 論理ユニット（LDEV） | Volume 
|===
注: これらは一般的な用語のマッピングのみであり、このデータ コレクターのすべてのケースを反映しているわけではありません。



=== ストレージ

以下の用語は、HDS ストレージ アセット ランディング ページに表示されるオブジェクトまたは参照に適用されます。これらの条件の多くは他のデータ収集者にも適用されます。

* 名前 – GetStorageArray XML API呼び出しを介してHDS HiCommandデバイスマネージャの「name」属性から直接取得されます。
* モデル - GetStorageArray XML API呼び出しを介してHDS HiCommandデバイスマネージャの「arrayType」属性から直接取得されます。
* ベンダー – HDS
* ファミリー - GetStorageArray XML API呼び出しを介してHDS HiCommandデバイスマネージャの「arrayFamily」属性から直接取得されます。
* IP – これはアレイの管理IPアドレスであり、アレイ上のすべてのIPアドレスの網羅的なリストではありません。
* 生の容量 – ディスクの役割に関係なく、このシステム内のすべてのディスクの合計容量を表す base2 値。




=== ストレージ プール

以下の用語は、HDS ストレージ プール アセット ランディング ページに表示されるオブジェクトまたは参照に適用されます。これらの条件の多くは他のデータ収集者にも適用されます。

* タイプ: ここでの値は次のいずれかになります。
+
** 予約済み – このプールがデータボリューム以外の目的（ジャーナリング、スナップショットなど）専用である場合
** シンプロビジョニング - HDPプールの場合
** レイド グループ – いくつかの理由により、これらは表示されない可能性があります。
+
Data Infrastructure Insights は、いかなる犠牲を払ってでも容量の二重カウントを回避するという強い姿勢をとっています。  HDS では通常、ディスクから RAID グループを構築し、それらの RAID グループ上にプール ボリュームを作成し、それらのプール ボリュームからプール (多くの場合は HDP ですが、特殊目的の場合もあります) を構築する必要があります。  Data Infrastructure Insights が基盤となる RAID グループとプールの両方をそのまま報告した場合、それらの生の容量の合計はディスクの合計を大幅に超過することになります。

+
代わりに、 Data Infrastructure Insightsの HDS Command Suite データ コレクターは、プール ボリュームの容量に応じて RAID グループのサイズを任意に縮小します。この結果、 Data Infrastructure Insights がRaid グループをまったく報告しなくなる可能性があります。さらに、結果として得られる Raid グループには、 Data Infrastructure Insights WebUI には表示されないようにフラグが付けられますが、 Data Infrastructure Insightsデータ ウェアハウス (DWH) には流れ込みます。これらの決定の目的は、ほとんどのユーザーが気にしない事柄によって UI が乱雑になるのを避けることです。HDS アレイに 50 MB の空き容量がある RAID グループがある場合、その空き領域を意味のある結果に使用することはできない可能性があります。



* ノード - N/A（HDS プールは特定のノードに結び付けられていないため）
* 冗長性 - プールの RAID レベル。複数の RAID タイプで構成された HDP プールの場合は複数の値が存在する可能性があります
* 容量 % - データ使用量にプールが使用されている割合（使用済み GB とプールの合計論理 GB サイズ）
* オーバーコミット容量 - 「このプールの論理容量は、このパーセンテージでプールの論理容量を超える論理ボリュームの合計によって、このパーセンテージでオーバーサブスクライブされています」という派生値
* スナップショット - このプールのスナップショット使用のために予約されている容量を表示します




=== ストレージ ノード

次の用語は、HDS ストレージ ノード アセット ランディング ページに表示されるオブジェクトまたは参照に適用されます。これらの条件の多くは他のデータ収集者にも適用されます。

* 名前 – モノリシック アレイ上のフロントエンド ディレクター (FED) またはチャネル アダプターの名前、またはモジュラー アレイ上のコントローラーの名前。特定のHDSアレイには2つ以上のストレージノードが含まれます
* ボリューム – ボリュームテーブルには、このストレージノードが所有するポートにマッピングされたボリュームが表示されます。




== 在庫要件

インベントリ データを収集するには、次のものが必要です。

* HiCommand Device Manager サーバーの IP アドレス
* HiCommand Device Manager ソフトウェアおよびピア権限の読み取り専用ユーザー名とパスワード
* ポート要件: 2001 (http) または 2443 (https)
* ユーザー名とパスワードを使用してHiCommandデバイスマネージャーソフトウェアにログインします。
* HiCommand Device Manager へのアクセスを確認します \http://<HiCommand_Device_Manager_IP>:2001/service/StorageManager




== パフォーマンス要件

パフォーマンス データを収集するには、次の要件を満たす必要があります。

* HDS USP、USP V、およびVSPのパフォーマンス
+
** パフォーマンス モニターのライセンスが必要です。
** 監視スイッチを有効にする必要があります。
** エクスポート ツール (Export.exe) をData Infrastructure Insights AU にコピーする必要があります。
** エクスポート ツールのバージョンは、ターゲット アレイのマイクロコード バージョンと一致する必要があります。


* AMS パフォーマンス:
+
** NetApp、Data Infrastructure Insights がパフォーマンス データを取得するために使用する専用のサービス アカウントを AMS アレイに作成することを強くお勧めします。  Storage Navigator では、ユーザー アカウントがアレイに同時にログインできるのは 1 回のみです。  Data Infrastructure Insights が管理スクリプトまたは HiCommand と同じユーザー アカウントを使用すると、同時ログインできるユーザー アカウントが 1 つに制限されるため、 Data Infrastructure Insights、管理スクリプト、または HiCommand がアレイと通信できなくなる可能性があります。
** パフォーマンス モニターのライセンスが必要です。
** Storage Navigator Modular 2 (SNM2) CLI ユーティリティをData Infrastructure Insights AU にインストールする必要があります。






== 構成

[cols="2*"]
|===
| フィールド | 説明 


| HiCommand サーバー | HiCommand Device Manager サーバーの IP アドレスまたは完全修飾ドメイン名 


| ユーザー名 | HiCommand Device Manager サーバーのユーザー名。 


| パスワード | HiCommand Device Manager サーバーに使用されるパスワード。 


| デバイス - VSP G1000 (R800)、VSP (R700)、HUS VM (HM700)、USP ストレージ | VSP G1000 (R800)、VSP (R700)、HUS VM (HM700)、および USP ストレージのデバイス リスト。各ストレージには次の情報が必要です: * アレイのIP: ストレージのIPアドレス * ユーザー名: ストレージのユーザー名 * パスワード: ストレージのパスワード * エクスポートユーティリティJARファイルを含むフォルダ 


| SNM2Devices - WMS/SMS/AMS ストレージ | WMS/SMS/AMS ストレージのデバイス リスト。各ストレージには次の情報が必要です: * アレイのIP: ストレージのIPアドレス * ストレージナビゲータCLIパス: SNM2 CLIパス * アカウント認証有効: 有効なアカウント認証を選択する場合に選択します * ユーザー名: ストレージのユーザー名 * パスワード: ストレージのパスワード 


| パフォーマンスのためにチューニングマネージャーを選択する | 他のパフォーマンスオプションを上書きする 


| チューニングマネージャーホスト | チューニングマネージャーのIPアドレスまたは完全修飾ドメイン名 


| チューニングマネージャーポートの上書き | 空白の場合は、「パフォーマンスのためのチューニングマネージャの選択」フィールドのデフォルトのポートを使用します。それ以外の場合は、使用するポートを入力します。 


| チューニングマネージャーのユーザー名 | チューニングマネージャーのユーザー名 


| チューニングマネージャーのパスワード | チューニングマネージャーのパスワード 
|===
注: HDS USP、USP V、および VSP では、どのディスクも複数のアレイ グループに属することができます。



== 高度な設定

|===


| フィールド | 説明 


| 接続タイプ | HTTPSまたはHTTP、デフォルトのポートも表示します 


| HiCommand サーバーポート | HiCommand デバイス マネージャーで使用されるポート 


| インベントリポーリング間隔（分） | インベントリ ポーリングの間隔。デフォルトは 40 です。 


| リストを指定するには「除外」または「含める」を選択します | データを収集するときに、以下の配列リストを含めるか除外するかを指定します。 


| フィルターデバイスリスト | 含めるまたは除外するデバイスのシリアル番号のコンマ区切りリスト 


| パフォーマンスポーリング間隔（秒） | パフォーマンス ポーリングの間隔。デフォルトは 300 です。 


| エクスポートのタイムアウト（秒） | エクスポート ユーティリティのタイムアウト。デフォルトは 300 です。 
|===


== トラブルシューティング

このデータ コレクターで問題が発生した場合に試すことができるいくつかのこと:



=== インベントリ

[cols="2*"]
|===
| 問題： | これを試してください: 


| エラー: ユーザーに十分な権限がありません | より高い権限を持つ別のユーザー アカウントを使用するか、データ コレクターで構成されているユーザー アカウントの権限を増やします。 


| エラー: ストレージ リストが空です。デバイスが設定されていないか、ユーザーに十分な権限がありません | * DeviceManager を使用して、デバイスが構成されているかどうかを確認します。  * より高い権限を持つ別のユーザーアカウントを使用するか、ユーザーアカウントの権限を増やします 


| エラー: HDS ストレージ アレイが数日間更新されていません | このアレイが HDS HiCommand で更新されない理由を調査します。 
|===


=== パフォーマンス

[cols="2*"]
|===
| 問題： | これを試してください: 


| エラー: * エクスポート ユーティリティの実行エラー * 外部コマンドの実行エラー | *Data Infrastructure Insightsアクイジション ユニットにエクスポート ユーティリティがインストールされていることを確認します。 * データ コレクター構成でエクスポート ユーティリティの場所が正しいことを確認します。 * データ コレクター構成で USP/R600 アレイの IP が正しいことを確認します。 * データ コレクター構成でユーザー名とパスワードが正しいことを確認します。 * エクスポート ユーティリティのバージョンがストレージ アレイのマイクロ コード バージョンと互換性があることを確認します。 *Data Infrastructure Insightsアクイジション ユニットから、CMD プロンプトを開き、次の操作を行います。 - ディレクトリを構成されたインストール ディレクトリに変更します。 - バッチ ファイル runWin.bat を実行して、構成されたストレージ アレイとの接続を試みます。 


| エラー: ターゲット IP のエクスポート ツールのログインに失敗しました | * ユーザー名/パスワードが正しいことを確認します * このHDSデータコレクター専用のユーザーIDを作成します * このアレイを取得するために他のデータコレクターが設定されていないことを確認します 


| エラー: エクスポート ツールで「監視の時間範囲を取得できません」というログが記録されました。 | * アレイでパフォーマンス監視が有効になっていることを確認します。  * Data Infrastructure Insightsの外部でエクスポート ツールを呼び出して、問題がData Infrastructure Insightsの外部にあることを確認します。 


| エラー: * 構成エラー: ストレージアレイはエクスポートユーティリティでサポートされていません * 構成エラー: ストレージアレイは Storage Navigator Modular CLI でサポートされていません | * サポートされているストレージ アレイのみを構成します。  * サポートされていないストレージ アレイを除外するには、「フィルター デバイス リスト」を使用します。 


| エラー: * 外部コマンドの実行エラー * 構成エラー: ストレージアレイがインベントリによって報告されません * 構成エラー: エクスポートフォルダに jar ファイルが含まれていません | * エクスポート ユーティリティの場所を確認します。  * 問題のストレージ アレイが HiCommand サーバーで構成されているかどうかを確認します。 * パフォーマンス ポーリング間隔を 60 秒の倍数に設定します。 


| エラー: * Storage navigator CLI エラー * auperform コマンド実行エラー * 外部コマンド実行エラー | * Storage Navigator Modular CLI がData Infrastructure Insights Acquisition Unit にインストールされていることを確認します。 * データ コレクター構成で、Storage Navigator Modular CLI の場所が正しいことを確認します。 * データ コレクターの構成で、WMS/SMS/SMS アレイの IP が正しいことを確認します。 * Storage Navigator Modular CLI のバージョンが、データ コレクターで構成されているストレージ アレイのマイクロ コード バージョンと互換性があることを確認します。 * Data Infrastructure Insights Acquisition Unit から、CMD プロンプトを開き、次の操作を行います。 - ディレクトリを構成されたインストール ディレクトリに変更します。 - 次のコマンド「auunitref.exe」を実行して、構成されたストレージ アレイとの接続を試みます。 


| エラー: 構成エラー: ストレージアレイがインベントリによって報告されません | 問題のストレージアレイがHiCommandサーバーで構成されているかどうかを確認します 


| エラー: * Storage Navigator Modular 2 CLI にアレイが登録されていません * アレイが Storage Navigator Modular 2 CLI に登録されていません * 構成エラー: ストレージ アレイが StorageNavigator Modular CLI に登録されていません | * コマンド プロンプトを開き、構成されたパスにディレクトリを変更します。 * コマンド「set=STONAVM_HOME=」を実行します。  * コマンド「auunitref」を実行します。 * コマンド出力に IP を含むアレイの詳細が含まれていることを確認します。 * 出力にアレイの詳細が含まれていない場合は、Storage Navigator CLI を使用してアレイを登録します。 - コマンド プロンプトを開き、構成されたパスにディレクトリを変更します。 - コマンド「set=STONAVM_HOME=」を実行します。  - コマンド「auunitaddauto -ip <ip>」を実行します。  <ip> を正しい IP に置き換えます。 
|===
追加情報は以下からご覧いただけます。link:concept_requesting_support.html["サポート"]ページまたはlink:reference_data_collector_support_matrix.html["データコレクターサポートマトリックス"]。
