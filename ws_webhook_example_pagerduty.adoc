---
sidebar: sidebar 
permalink: ws_webhook_example_pagerduty.html 
keywords: webhook, notification, PagerDuty, integration 
summary: PagerDuty のセキュリティアラート用のワークロードセキュリティ Webhook を作成する 
---
= PagerDuty のワークロード セキュリティ Webhook の例
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Webhook を使用すると、ユーザーはカスタマイズされた Webhook チャネルを使用してさまざまなアプリケーションにアラート通知を送信できます。このページでは、PagerDuty の Webhook を設定する例を示します。


NOTE: このページはサードパーティの指示を参照しており、変更される可能性があります。参照link:https://support.pagerduty.com/docs/services-and-integrations["PagerDutyのドキュメント"]最新情報についてはこちらをご覧ください。



== PagerDutyのセットアップ:

. PagerDuty で、*サービス > サービス ディレクトリ* に移動し、*+ 新しいサービス* ボタンをクリックします。
. _名前_を入力し、_API を直接使用_を選択します。  _サービスの追加_を選択します。
+
image:Webhooks_PagerDutyScreen1.png["Pagerduty 画面"]

. *統合キー*を表示するには、[_統合_] タブを選択します。以下の Workload Security Webhook を作成するときに、このキーが必要になります。


. アラートを表示するには、「*インシデント*」または「*サービス*」に移動します。
+
image:ws_pagerduty_incidents_list.png["Pagerdutyインシデントリストの例、幅=700"]





== Workload Security PagerDuty Webhook を作成します。

* 「管理」>「通知」に移動し、「_Workload Security Webhooks_」タブを選択します。新しい Webhook を作成するには、「+ Webhook」を選択します。
* Webhook に意味のある名前を付けます。
* _テンプレート タイプ_ ドロップダウンで、_PagerDuty トリガー_ を選択します。
* _routingKey_ という名前のカスタム パラメータ シークレットを作成し、その値を上記で作成した PagerDuty _Integration Key_ に設定します。


image:Webhooks_Custom_Secret_Routing_Key.png["ルーティングキーの設定、幅=300"]

image:ws_webhook_pagerduty_example.png["ワークロード セキュリティ PagerDuty Webhook の例、幅 = 400"]



== Webhook経由の通知

* Webhook 経由でイベントを通知するには、[_Workload Security_] > [ポリシー] に移動します。  _+攻撃ポリシー_または_+警告ポリシー_を選択します。
* 意味のあるポリシー名を入力します。
* 必要な攻撃タイプ、ポリシーを適用するデバイス、および必要なアクションを選択します。
* [_Webhooks Notifications_] ドロップダウンで、必要な PagerDuty Webhook を選択します。ポリシーを保存します。


注: Webhook は、編集することで既存のポリシーに添付することもできます。

image:ws_add_attack_policy.png["ウェブフックを表示する攻撃ポリシーダイアログを追加、幅=400"]
